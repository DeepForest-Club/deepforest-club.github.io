<!DOCTYPE html>  
<html>  
<head>  
  <meta charset="UTF-8">  
  <title>限制级内容拦截器</title>  
  <style>
  </style>
</head>  
<body style="text-align: center;">
  <input type="date" name="input-date-birthday" id="input-date-birthday" class="input-date-birthday" placeholder="请输入出生日期（例如：2000/01/01）">  
  <button class="btn-submit" onclick="checkAge()">验证</button>  
  <br> <br>
  <a href="https://deep-forest-club.wikidot.com/privacy-policy">隐私权政策</a> | <a href="https://deep-forest-club.wikidot.com/site-rules">网站站规</a>
  <script>
  function getQueryString(name) {
    var query_string = "window.location.search";
    if (!query_string) return null; // 如果无参，返回null
    var re = /[?&]?([^=]+)=([^&]*)/g;
    var tokens;
    while (tokens = re.exec(query_string)) {
    if (decodeURIComponent(tokens[1]) === linkurl) {
      return decodeURIComponent(tokens[2]);
    }
  }
    return null;
  }
  var link = console.log(getQueryString('linkurl'));
    function checkAge() {  
  var birthday = document.getElementById("input-date-birthday").value;  
  var regExp = /^(\d{4})[\/|-](\d{1,2})[\/|-](\d{1,2})$/;  
  if (!regExp.test(birthday)) {  
    alert("你输入的出生日期格式不正确，请尝试重新输入。");  
    return false;  
  }  
  var age = getAge(birthday);  
  if (isNaN(age)) {  
    alert("你输入的出生日期信息无效，请尝试重新输入。");  
    return false;  
  }  
  if (age < 18) {  
    alert("你的年龄未满18周岁，无法访问限制级页面。");  
    return false;  
  }  
  window.open(link+"#content-wrap");
}  
  
function getAge(dateString) {  
  var today = new Date();  
  var birthDate = new Date(dateString);  
  var age = today.getFullYear() - birthDate.getFullYear();  
  var m = today.getMonth() - birthDate.getMonth();  
  if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {  
    age--;  
  }  
  return age;  
}  
  </script>  
</body>  
</html>
